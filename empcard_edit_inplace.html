<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Employee Card (edit in place)</title>
<link rel="stylesheet" type="text/css" href="bulma.css">
<style>
#main {
    width: 40%;
}
.card-label {
    width: 8em;
    color: #7a7a7a;
}
.card {
    margin: 1em;
}
.card figure {
    margin-bottom: 1em;
}
.content .table td {
/*    padding: 0.3em;*/
}
.card-val {
    position: relative;
}
.edit-overlay {
    opacity: 0;
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
}
.edit-overlay:hover {
    opacity: 1.0;
}
.edit-overlay a {
    position: absolute;
    margin: 0;
    top: 50%;
    right: 0;
    transform: translate(-50%, -50%);
}
.card-valinput {
    display: none;
    width: 80%;
}
</style>
</head>
<body>
<div id="main" class="is-size-6">
    <div class="card">
        <div class="card-content">
            <div class="media">
                <div class="media-left">
                    <figure class="image is-128x128">
                        <img src="rob_fb.jpg" alt="alt caption here">
                    </figure>
                    <div class="content is-size-7 has-text-centered">
                        <p><a href="#">Homepage</a></p>
                        <p><a href="#">Link 2</a></p>
                        <p><a href="#">Link 3</a></p>
                    </div>
                </div>
                <div class="media-content content is-small">
                    <div class="is-pulled-left">
                        <h1 class="title is-4">Rob de la Cruz</h1>
                        <p class="subtitle is-6">Software Developer</p>
                    </div>
                    <div class="buttons is-pulled-right">
                        <button class="button is-light is-small">Edit</button>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="is-size-7" colspan="2">Employee Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="card-label">Emp&nbsp;No</td>
                                <td class="card-val">
                                    <div class="card-valtext">9029-664</div>
                                    <div class="card-valinput">
                                        <input class="input is-small" type="text" value="9029-664">
                                    </div>
                                    <div class="edit-overlay">
                                        <a class="popup-edit-link" href="#">Edit</a>
                                    </div>
                                </td>
                        
                            </tr>
                            <tr>
                                <td class="card-label">SS&nbsp;No</td>
                                <td>789-01-2345</td>
                            </tr>
                            <tr>
                                <td class="card-label">TIN</td>
                                <td>1234567890</td>
                            </tr>
                            <tr>
                                <td class="card-label">Title</td>
                                <td>Intern</td>
                            </tr>
                            <tr>
                                <td class="card-label">Start&nbsp;Date</td>
                                <td>2017-01-15</td>
                            </tr>
                            <tr>
                                <td class="card-label">Status</td>
                                <td>Regular</td></tr>
                            <tr>
                                <td class="card-label">Division</td>
                                <td>HR</td>
                            </tr>
                            <tr>
                                <td class="card-label">Notes</td>
                                <td>
                                    <div class="content">
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi in odio at tortor lobortis consectetur nec nec ipsum. Suspendisse vehicula ornare efficitur. Proin nec libero leo. Integer neque metus, pharetra eget augue vitae, pharetra ultrices lacus.
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="is-size-7" colspan="2">Contact Info</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="card-label">Email</td>
                                <td><a>robdelacruz@email.com</a></td>
                            </tr>
                            <tr>
                                <td class="card-label">Work&nbsp;Phone</td>
                                <td>632-532-2870</td>
                            </tr>
                            <tr>
                                <td class="card-label">Mobile</td>
                                <td>0917-567-8901</td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="is-size-7" colspan="2">Personal Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="card-label">Gender</td>
                                <td>Male</td>
                            </tr>
                            <tr>
                                <td class="card-label">Civil Status</td>
                                <td>Single</td>
                            </tr>
                            <tr>
                                <td class="card-label">Date of Birth</td>
                                <td>1970-01-01</td>
                            </tr>
                            <tr>
                                <td class="card-label">Favorite Color</td>
                                <td>Fuchsia</td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="is-size-7" colspan="2">Balances</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="card-label">Remaining SL</td>
                                <td>15.0 <a href="#" class="is-pulled-right">Request</a></td>
                            </tr>
                            <tr>
                                <td class="card-label">Remaining VL</td>
                                <td>12.5 <a href="#" class="is-pulled-right">Request</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="content">
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener("click", function(e) {
        if (!e.target.matches(".popup-edit-link")) {
            return;
        }
        let editLink = e.target;
        let td = e.target.parentNode.parentNode;

        if (editLink.innerText == "Edit") {
            editLink.innerText = "Done";
            td.querySelector(".card-valinput").style.display = "block";
            td.querySelector(".card-valtext").style.display = "none";

            td.querySelector(".card-valinput input").focus();
        } else {
            editLink.innerText = "Edit";
            td.querySelector(".card-valinput").style.display = "none";
            td.querySelector(".card-valtext").style.display = "block";
        }
    });
</script>
</body>
</html>

