<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Employee Card (edit in place)</title>
<link rel="stylesheet" type="text/css" href="bulma.css">
<style>
#main {
    width: 40%;
}
.card-label {
    width: 8em;
    color: #7a7a7a;
}
.card {
    margin: 1em;
}
.card figure {
    margin-bottom: 1em;
}
.content .table td {
/*    padding: 0.3em;*/
}
.card-val {
    position: relative;
}
.field-overlay {
    opacity: 0;
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
}
.field-overlay:hover {
    opacity: 1.0;
}
.field-overlay a {
    position: absolute;
    margin: 0;
    top: 50%;
    right: 0;
    transform: translate(-50%, -50%);
}
.field-input {
    display: none;
    width: 100%;
}
.field-input .buttons {
    margin-top: 0.4em;
}
</style>
</head>
<body>
<div id="main" class="is-size-6">
    <div class="card">
        <div class="card-content">
            <div class="media">
                <div class="media-left">
                    <figure class="image is-128x128">
                        <img src="rob_fb.jpg" alt="alt caption here">
                    </figure>
                    <div class="content is-size-7 has-text-centered">
                        <p><a href="#">Homepage</a></p>
                        <p><a href="#">Link 2</a></p>
                        <p><a href="#">Link 3</a></p>
                    </div>
                </div>
                <div class="media-content content is-small">
                    <div class="is-pulled-left">
                        <h1 class="title is-4">Rob de la Cruz</h1>
                        <p class="subtitle is-6">Software Developer</p>
                    </div>
                    <div class="buttons is-pulled-right">
                        <button class="button is-light is-small">Edit</button>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="is-size-7" colspan="2">Employee Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="card-label">Emp&nbsp;No</td>
                                <td class="card-val">
                                    <div class="field-val">9029-664</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="9029-664">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                        
                            </tr>
                            <tr>
                                <td class="card-label">SS&nbsp;No</td>
                                <td class="card-val">
                                    <div class="field-val">789-01-2345</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="789-01-2345">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">TIN</td>
                                <td class="card-val">
                                    <div class="field-val">1234567890</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="1234567890">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Title</td>
                                <td class="card-val">
                                    <div class="field-val">Intern</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="Intern">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Start&nbsp;Date</td>
                                <td class="card-val">
                                    <div class="field-val">2017-01-15</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="2017-01-15">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Status</td>
                                <td class="card-val">
                                    <div class="field-val">Regular</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="Regular">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Division</td>
                                <td class="card-val">
                                    <div class="field-val">HR</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="HR">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Notes</td>
                                <td class="card-val">
                                    <div class="field-val content">
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi in odio at tortor lobortis consectetur nec nec ipsum. Suspendisse vehicula ornare efficitur. Proin nec libero leo. Integer neque metus, pharetra eget augue vitae, pharetra ultrices lacus.
                                    </div>
                                    <div class="field-input">
                                        <textarea class="input textarea is-small" rows="5">
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi in odio at tortor lobortis consectetur nec nec ipsum. Suspendisse vehicula ornare efficitur. Proin nec libero leo. Integer neque metus, pharetra eget augue vitae, pharetra ultrices lacus.
                                        </textarea>
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="is-size-7" colspan="2">Contact Info</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="card-label">Email</td>
                                <td class="card-val">
                                    <div class="field-val"><a>robdelacruz@email.com</a></div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="robdelacruz@email.com">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Work&nbsp;Phone</td>
                                <td class="card-val">
                                    <div class="field-val">632-532-2870</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="632-532-2870632-532-2870">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Mobile</td>
                                <td class="card-val">
                                    <div class="field-val">0917-567-8901</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="0917-567-8901">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="is-size-7" colspan="2">Personal Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="card-label">Gender</td>
                                <td class="card-val">
                                    <div class="field-val">Male</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="Male">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Civil Status</td>
                                <td class="card-val">
                                    <div class="field-val">Single</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="Single">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Date of Birth</td>
                                <td class="card-val">
                                    <div class="field-val">1970-01-01</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="1970-01-01">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Favorite Color</td>
                                <td class="card-val">
                                    <div class="field-val">Fuchsia</div>
                                    <div class="field-input">
                                        <input class="input is-small" type="text" value="Fuchsia">
                                        <div class="buttons is-pulled-right">
                                            <a class="button is-small is-light field-input-action">Cancel</a>
                                            <a class="button is-small is-success field-input-action">Update</a>
                                        </div>
                                    </div>
                                    <div class="field-overlay">
                                        <a class="field-overlay-edit" href="#">Edit</a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="is-size-7" colspan="2">Balances</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="card-label">Remaining SL</td>
                                <td class="card-val">
                                    15.0
                                    <a href="#" class="is-pulled-right">Request</a>
                                </td>
                            </tr>
                            <tr>
                                <td class="card-label">Remaining VL</td>
                                <td class="card-val">
                                    12.5
                                    <a href="#" class="is-pulled-right">Request</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="content">
            </div>
        </div>
    </div>
</div>
<script>
    // Hide any visible in-place editing fields.
    function hideAllEdits() {
        let fieldoverlays = document.querySelectorAll(".field-overlay");
        let fieldvals = document.querySelectorAll(".field-val");
        let fieldinputs = document.querySelectorAll(".field-input");

        for (let i=0; i < fieldoverlays.length; i++) {
            let fieldoverlay = fieldoverlays[i];
            fieldoverlay.style.display = "block";
        }
        for (let i=0; i < fieldvals.length; i++) {
            let fieldval = fieldvals[i];
            fieldval.style.display = "block";
        }
        for (let i=0; i < fieldinputs.length; i++) {
            let fieldinput = fieldinputs[i];
            fieldinput.style.display = "none";
        }
    }

    document.addEventListener("click", function(e) {
        if (e.target.matches(".field-overlay-edit")) {
            e.preventDefault();

            hideAllEdits();

            let td = e.target.parentNode.parentNode;
            let fieldval = td.querySelector(".field-val");
            let fieldinput = td.querySelector(".field-input");
            let fieldoverlay = td.querySelector(".field-overlay");

            fieldoverlay.style.display = "none";
            fieldval.style.display = "none";
            fieldinput.style.display = "block";
            fieldinput.querySelector(".input").focus();
            return;
        }

        if (e.target.matches(".field-input-action")) {
            e.preventDefault();
            let td = e.target.parentNode.parentNode.parentNode;
            let fieldval = td.querySelector(".field-val");
            let fieldinput = td.querySelector(".field-input");
            let fieldoverlay = td.querySelector(".field-overlay");

            fieldoverlay.style.display = "block";
            fieldval.style.display = "block";
            fieldinput.style.display = "none";
            return;
        }

    });
</script>
</body>
</html>

